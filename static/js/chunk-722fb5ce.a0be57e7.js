(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-722fb5ce"],{"01c1":function(t,e,i){var a=i("c9b1");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("9d73d59e",a,!0,{sourceMap:!1,shadowMode:!1})},"3f78":function(t,e,i){"use strict";var a=i("fadb"),o=i.n(a);o.a},"56c9":function(t,e,i){var a=i("f6e9");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("67cf41e3",a,!0,{sourceMap:!1,shadowMode:!1})},"58ab":function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"\n.AdministrationEdit[data-v-fdec9394]{position:relative;height:100%;overflow:auto;padding-top:30px\n}\n.button_Box[data-v-fdec9394]{padding:10px\n}\n.button_Box .SearchInput[data-v-fdec9394]{width:1.3rem;height:.2rem;float:right\n}",""])},"75f9":function(t,e,i){"use strict";var a=i("56c9"),o=i.n(a);o.a},af4e:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"AdministrationEdit Personalmanagement"},[i("div",{staticClass:"content"},[i("div",{staticClass:"button_Box"},[i("el-button",{attrs:{type:"primary"},on:{click:t.addBtnClick}},[t._v("添加")]),i("el-button",{attrs:{type:"danger"},on:{click:t.deleteBtnClick}},[t._v("删除")]),i("el-button",{attrs:{type:"info"},on:{click:t.editBtnClick}},[t._v("编辑")]),i("el-button",{attrs:{type:"warning"},on:{click:t.AdminSetUp}},[t._v("设置权限")]),i("el-input",{staticClass:"SearchInput",attrs:{placeholder:"请输入姓名电话"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.InputSearchClick(e):null}},model:{value:t.lookUpInfo,callback:function(e){t.lookUpInfo=e},expression:"lookUpInfo"}},[i("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.InputSearchClick},slot:"append"})],1)],1)]),i("div",{staticClass:"tables"},[[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"selection-change":t.SelectionChange}},[i("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),i("el-table-column",{attrs:{fixed:"",label:"头像",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{width:"0.2rem"},attrs:{src:t.row.userheadimg,alt:""}})]}}])}),i("el-table-column",{attrs:{prop:"name",align:"center",label:"姓名"}}),i("el-table-column",{attrs:{prop:"phone",align:"center",label:"电话"}}),i("el-table-column",{attrs:{prop:"shortname",align:"center",label:"公司简称"}}),i("el-table-column",{attrs:{prop:"department",align:"center",label:"部门"}}),i("el-table-column",{attrs:{prop:"usertitle",align:"center",label:"职位"}}),i("el-table-column",{attrs:{prop:"password",align:"center",label:"密码"}}),i("el-table-column",{attrs:{"min-width":"100",prop:"isadmin",align:"center",label:"是否为超级管理员"}})],1)]],2),i("div",{staticClass:"pages"},[i("el-pagination",{attrs:{"page-size":t.PageSize,layout:"prev, pager, next","current-page":t.page,total:500},on:{"current-change":t.PageLoad,"update:currentPage":function(e){t.page=e}}})],1),t.dialogVisible?i("el-dialog",{attrs:{title:t.titleName,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{attrs:{model:t.dialogFrom}},[i("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[i("el-input",{model:{value:t.dialogFrom.name,callback:function(e){t.$set(t.dialogFrom,"name",e)},expression:"dialogFrom.name"}})],1),i("el-form-item",{attrs:{label:"电话","label-width":t.formLabelWidth}},[i("el-input",{model:{value:t.dialogFrom.phone,callback:function(e){t.$set(t.dialogFrom,"phone",e)},expression:"dialogFrom.phone"}})],1),i("el-form-item",{attrs:{label:"公司简称","label-width":t.formLabelWidth}},[i("el-input",{model:{value:t.dialogFrom.companyName,callback:function(e){t.$set(t.dialogFrom,"companyName",e)},expression:"dialogFrom.companyName"}})],1),i("el-form-item",{attrs:{label:"部门","label-width":t.formLabelWidth}},[i("el-input",{model:{value:t.dialogFrom.department,callback:function(e){t.$set(t.dialogFrom,"department",e)},expression:"dialogFrom.department"}})],1),i("el-form-item",{attrs:{label:"职位","label-width":t.formLabelWidth}},[i("el-input",{model:{value:t.dialogFrom.position,callback:function(e){t.$set(t.dialogFrom,"position",e)},expression:"dialogFrom.position"}})],1),i("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[i("el-input",{model:{value:t.dialogFrom.password,callback:function(e){t.$set(t.dialogFrom,"password",e)},expression:"dialogFrom.password"}})],1),i("el-form-item",{attrs:{label:"是否为管理员","label-width":t.formLabelWidth}},[i("el-checkbox-group",{model:{value:t.dialogFrom.checked,callback:function(e){t.$set(t.dialogFrom,"checked",e)},expression:"dialogFrom.checked"}},[i("el-checkbox",{attrs:{label:"是/否",name:"type"},on:{change:t.onChange}})],1)],1)],1),i("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"right"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:t.dialogCancalClick}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.dialogSubClick}},[t._v("确 定")])],1)],1):t._e(),i("el-dialog",{staticClass:"dialog_box",attrs:{title:"权限设置",width:"30%",visible:t.editJurisdiction},on:{"update:visible":function(e){t.editJurisdiction=e}}},[i("el-row",[i("el-col",{attrs:{span:12}},[t._v("\n           是否允许编辑电子刊\n         ")]),i("el-col",{attrs:{span:12}},[i("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否"},model:{value:t.canEditer,callback:function(e){t.canEditer=e},expression:"canEditer"}})],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.editJurisdiction=!1}}},[t._v("取 消")]),i("el-button",{attrs:{disabled:!t.editDisable,type:"primary"},on:{click:t.changeEditer}},[t._v("确 定")])],1),t.editDisable?t._e():i("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"fullmask"})],1)],1)},o=[],n=(i("7f7f"),{data:function(){return{editJurisdiction:!1,EditData:{},canEditer:!1,editDisable:!1,lookUpInfo:"",tableData:[],PageSize:10,page:1,selectArr:[],titleName:"",dialogVisible:!1,formLabelWidth:"100px",dialogFrom:{name:"",phone:"",companyName:"",department:"",position:"",password:"",checked:!1},isadmin:0}},methods:{PageLoad:function(){var t=this;this.$get("GetYunUserSearch?page="+this.page+"&size="+this.PageSize).then(function(e){200==e.Code&&(e.Data=e.Data.map(function(t){return 0==t.isadmin?t.isadmin="否":t.isadmin="是",t}),t.tableData=e.Data)})},SelectionChange:function(t){this.selectArr=t},handleClick:function(t){console.log(t),this.$router.push({path:"/adminSetup",query:{userid:t.id}})},addBtnClick:function(){this.dialogVisible=!0,this.titleName="添加",this.dialogFrom.name="",this.dialogFrom.password="",this.dialogFrom.phone="",this.dialogFrom.companyName="",this.dialogFrom.department="",this.dialogFrom.position=""},deleteBtnClick:function(){var t=this;if(this.selectArr.length>1)return this.$showErrorTip("您只能选择一条记录删除"),!1;if(0==this.selectArr.length)return this.$showErrorTip("请您选择需要删除的记录"),!1;var e={company:this.selectArr[0].company,deleted:this.selectArr[0].deleted,department:this.selectArr[0].department,id:this.selectArr[0].id,name:this.selectArr[0].name,password:this.selectArr[0].password,phone:this.selectArr[0].phone,shortname:this.selectArr[0].shortname,userheadimg:this.selectArr[0].userheadimg,usertitle:this.selectArr[0].usertitle,yun_openid:this.selectArr[0].yun_openid};this.$post("YunUserDelete",e).then(function(e){200==e.Code&&t.PageLoad()})},editBtnClick:function(){return this.titleName="编辑",this.selectArr.length>1?(this.$showErrorTip("您只能选择一条记录编辑"),!1):0==this.selectArr.length?(this.$showErrorTip("请您选择需要编辑的记录"),!1):("是"==this.selectArr[0].isadmin?this.dialogFrom.checked=!0:this.dialogFrom.checked=!1,this.dialogFrom.name=this.selectArr[0].name,this.dialogFrom.phone=this.selectArr[0].phone,this.dialogFrom.companyName=this.selectArr[0].shortname,this.dialogFrom.department=this.selectArr[0].department,this.dialogFrom.position=this.selectArr[0].usertitle,this.dialogFrom.password=this.selectArr[0].password,void(this.dialogVisible=!0))},AdminSetUp:function(){return this.canEditer=!1,this.selectArr.length>1?(this.$showErrorTip("您只能选择一条记录设置权限"),!1):0==this.selectArr.length?(this.$showErrorTip("请您选择需要设置权限的记录"),!1):(this.editDisable=!1,this.editJurisdiction=!0,void this.GetEjRightFirst(this.selectArr[0].id))},InputSearchClick:function(){var t=this;this.$get("GetYunUserSearch?value=".concat(this.lookUpInfo)).then(function(e){200==e.Code&&(e.Data=e.Data.map(function(t){return"0"==t.isadmin?t.isadmin="否":t.isadmin="是",t}),t.tableData=e.Data)})},GetEjRightFirst:function(t){var e=this;this.$get("GetEjRightFirst?cond=uid&arg=".concat(t)).then(function(i){200==i.Code&&(e.EditData=i.Data,t==e.EditData.uid&&e.EditData?e.canEditer=!0:(e.EditData.uid=t,e.canEditer=!1),e.editDisable=!0)})},changeEditer:function(){var t=this,e={id:this.EditData.id,uid:this.EditData.uid};if(this.canEditer)this.$post("EjRightSave",e).then(function(e){200==e.Code&&(t.editJurisdiction=!1)});else if(e.id){var i={id:e.id};this.$post("EjRightDelete",i).then(function(e){console.log(12,e),200==e.Code&&(t.editJurisdiction=!1)}),console.log(2,e)}},dialogCancalClick:function(){this.dialogVisible=!1,this.dialogFrom.name="",this.dialogFrom.phone="",this.dialogFrom.password=""},dialogSubClick:function(){var t={};"添加"==this.titleName?(t.company="",t.deleted=0,t.department=this.dialogFrom.department,t.id="",t.name=this.dialogFrom.name,t.password=this.dialogFrom.password,t.phone=this.dialogFrom.phone,t.isadmin=this.isadmin,t.shortname=this.dialogFrom.companyName,t.userheadimg="",t.usertitle=this.dialogFrom.position,t.yun_openid=""):(t.company=this.selectArr[0].company,t.deleted=this.selectArr[0].deleted,t.department=this.dialogFrom.department,t.id=this.selectArr[0].id,t.name=this.dialogFrom.name,t.password=this.dialogFrom.password,t.phone=this.dialogFrom.phone,t.isadmin=this.isadmin,t.shortname=this.dialogFrom.companyName,t.userheadimg=this.selectArr[0].userheadimg,t.usertitle=this.dialogFrom.position,t.yun_openid=this.selectArr[0].yun_openid),this.addEditPublicFn(t)},addEditPublicFn:function(t){var e=this;this.$post("YunUserSave",t).then(function(t){200==t.Code&&(e.$showMsgTip("成功"),e.dialogVisible=!1,e.PageLoad())})},onChange:function(t){this.isadmin=t?1:0}},mounted:function(){this.PageLoad()}}),l=n,s=(i("3f78"),i("75f9"),i("eefb"),i("2877")),r=Object(s["a"])(l,a,o,!1,null,"fdec9394",null);r.options.__file="Personalmanagement.vue";e["default"]=r.exports},c9b1:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"\n.Personalmanagement .dialog_box .el-dialog{position:relative\n}\n.Personalmanagement .dialog_box .el-dialog .fullmask{position:absolute;top:0;bottom:0;left:0;right:0\n}\n.Personalmanagement .dialog-footer{text-align:right\n}\n.Personalmanagement .is-center .cell{text-align:center\n}\n.Personalmanagement .tables{margin-top:.1rem\n}\n.Personalmanagement .el-table .cell,.Personalmanagement .el-table th>.cell{line-height:.12rem\n}\n.Personalmanagement .SearchInput .el-input__inner{height:100%;line-height:.2rem;font-size:.07rem\n}",""])},eefb:function(t,e,i){"use strict";var a=i("01c1"),o=i.n(a);o.a},f6e9:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,"\n.el-form-item__label[data-v-fdec9394]{text-align:center\n}",""])},fadb:function(t,e,i){var a=i("58ab");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var o=i("499e").default;o("b1c8821e",a,!0,{sourceMap:!1,shadowMode:!1})}}]);