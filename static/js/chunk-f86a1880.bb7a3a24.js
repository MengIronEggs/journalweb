(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f86a1880"],{"1c4c":function(e,t,r){"use strict";var a=r("9b43"),i=r("5ca1"),n=r("4bf8"),s=r("1fa8"),_=r("33a4"),o=r("9def"),d=r("f1ae"),c=r("27ee");i(i.S+i.F*!r("5cc5")(function(e){Array.from(e)}),"Array",{from:function(e){var t,r,i,l,u=n(e),h="function"==typeof this?this:Array,p=arguments.length,f=p>1?arguments[1]:void 0,m=void 0!==f,y=0,g=c(u);if(m&&(f=a(f,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&_(g))for(t=o(u.length),r=new h(t);t>y;y++)d(r,y,m?f(u[y],y):u[y]);else for(l=g.call(u),r=new h;!(i=l.next()).done;y++)d(r,y,m?s(l,f,[i.value,y],!0):i.value);return r.length=y,r}})},"4cac":function(e,t,r){"use strict";var a=r("e771"),i=r.n(a);i.a},"97c9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"bread"},[r("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.breadArr,function(t,a){return r("el-breadcrumb-item",{key:a,attrs:{to:{path:t.path}}},[e._v(e._s(t.name))])}))],1),r("div",{staticStyle:{width:"100%",position:"relative","margin-top":"20px"}},[r("div",{staticStyle:{width:"3rem",height:"2rem",margin:"20px auto"}},[r("div",{staticClass:"adminList",staticStyle:{float:"left"}},[r("div",{staticClass:"adminType"},[e._v("行政权限")]),r("el-tree",{ref:"tree",staticClass:"treeDom",attrs:{data:e.data,"show-checkbox":"","node-key":"id",props:e.defaultProps},on:{"check-change":e.AdminGetCurrentKey}})],1),r("div",{staticClass:"adminList",staticStyle:{float:"right"}},[r("div",{staticClass:"adminType"},[e._v("日报权限")]),r("el-tree",{ref:"tree1",staticClass:"treeDom",attrs:{data:e.data1,"show-checkbox":"","node-key":"id",props:e.defaultProps1},on:{"check-change":e.dailyCurrentKey}})],1)])]),r("div",{staticStyle:{width:"100%",height:"20px","line-height":"20px","font-size":"14px","text-align":"center",color:"red"}},[e._v("\n      该模块设置用户手机端的查看权限，如需设置后台权限，请在对应板块设置\n    ")]),r("div",{staticStyle:{width:"100%",height:"40px","line-height":"40px","text-align":"center","margin-top":"10px"}},[r("el-button",{attrs:{type:"primary"},on:{click:e.queitClick}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.resetFn}},[e._v("重置")]),r("el-button",{attrs:{type:"primary"},on:{click:e.saveAdminFn}},[e._v("保存")])],1)])},i=[],n=r("ff17"),s=n["a"],_=(r("4cac"),r("2877")),o=Object(_["a"])(s,a,i,!1,null,"59f85940",null);o.options.__file="AdminSetup.vue";t["default"]=o.exports},bd1b:function(e,t,r){t=e.exports=r("2350")(!1),t.push([e.i,"\n.adminList[data-v-59f85940]{width:40%;height:100%;overflow-y:scroll;border:1px solid #ccc;border-radius:3px\n}\n.adminList .treeDom[data-v-59f85940]{margin-top:.05rem\n}\n.adminType[data-v-59f85940]{width:100%;height:.15rem;line-height:.15rem;font-weight:600;padding-left:.05rem\n}",""])},e771:function(e,t,r){var a=r("bd1b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=r("499e").default;i("79b8a654",a,!0,{sourceMap:!1,shadowMode:!1})},f1ae:function(e,t,r){"use strict";var a=r("86cc"),i=r("4630");e.exports=function(e,t,r){t in e?a.f(e,t,i(0,r)):e[t]=r}},ff17:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4f7f"),core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_set__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("1c4c"),core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_array_from__WEBPACK_IMPORTED_MODULE_3__);__webpack_exports__["a"]={data:function(){return{breadArr:[{path:"/personalmanagement",name:"人员管理"},{path:"/adminSetup",name:"权限设置"}],userid:0,data:[],defaultProps:{children:"children",label:"label"},adminArr:[],data1:[],defaultProps1:{children:"children",label:"label"},dailyManageMentArr:[]}},methods:{managementListLoad:function managementListLoad(){var _this=this;this.$get("GetAsProductlistWhere?cond=needauth&arg=1").then(function(res){if(200==res.Code){var arr=Array.from(new Set(res.Data.map(function(e){if(0==e.producttype||1==e.producttype||2==e.producttype||3==e.producttype||5==e.producttype)return e.productclass})));arr=arr.filter(function(e){return!(!e||""===e)});for(var arr1=[],listArr=res.Data.filter(function(e){if(0!==e.producttype)return e}),i=0;i<arr.length;i++){var _obj={};_obj.DataTitle=arr[i],_obj.DataVal=[];for(var j=0;j<listArr.length;j++)arr[i]==listArr[j].productclass&&listArr[j].productprop&&(listArr[j].productprop=eval("("+listArr[j].productprop+")"),_obj.DataVal.push(listArr[j]));arr1.push(_obj)}}for(var _i=0;_i<arr1.length;_i++){var obj={};if(obj.label=arr1[_i].DataTitle,obj.children=[],arr1[_i].DataVal.length>0)for(var _j=0;_j<arr1[_i].DataVal.length;_j++){var childObj={};""!==arr1[_i].DataVal[_j].productname?(childObj.id=arr1[_i].DataVal[_j].id,childObj.label=arr1[_i].DataVal[_j].productname,obj.children.push(childObj)):obj.id=arr1[_i].DataVal[_j].id}else{for(var id=0,z=0;z<res.Data.length;z++)arr1[_i].DataTitle==res.Data[z].productclass&&(id=res.Data[z].id);obj.id=id}_this.data.push(obj)}}),this.$get("GetAsDailydictWhere").then(function(e){if(200==e.Code)for(var t=Array.from(new Set(e.Data.map(function(e){return e.dailyclass}))),r=0;r<t.length;r++){var a={};a.label=t[r],a.children=[];for(var i=0;i<e.Data.length;i++)if(e.Data[i].dailyclass==t[r]){var n={};n.id=e.Data[i].id,n.label=e.Data[i].companyname,a.children.push(n)}_this.data1.push(a)}}).then(function(){_this.PageListLoad()})},AdminGetCurrentKey:function(){var e=this,t=this.$refs.tree.getCheckedNodes();this.adminArr=[],t.forEach(function(t){e.adminArr.push(t.id)}),this.adminArr=this.adminArr.filter(function(e){return!(!e||""===e)})},dailyCurrentKey:function(){var e=this,t=this.$refs.tree1.getCheckedNodes();this.dailyManageMentArr=[],t.forEach(function(t){e.dailyManageMentArr.push(t.id)}),this.dailyManageMentArr=this.dailyManageMentArr.filter(function(e){return!(!e||""===e)})},saveAdminFn:function(){var e=this,t=[];if(0==this.adminArr.length&&0==this.dailyManageMentArr.length){var r={producttype:0,productid:0};r.userid=parseInt(this.userid),t.push(r)}else{for(var a=0;a<this.adminArr.length;a++){var i={producttype:0};i.productid=this.adminArr[a],i.userid=parseInt(this.userid),t.push(i)}for(var n=0;n<this.dailyManageMentArr.length;n++){var s={producttype:1};s.productid=this.dailyManageMentArr[n],s.userid=parseInt(this.userid),t.push(s)}}this.$post("AsBatchAuthSave",t).then(function(t){200==t.Code&&(e.$showMsgTip("设置成功"),e.$router.push({path:"/personalmanagement"}))})},resetFn:function(){this.adminArr=[],this.dailyManageMentArr=[],this.$refs.tree.setCheckedKeys(this.adminArr),this.$refs.tree1.setCheckedKeys(this.dailyManageMentArr)},queitClick:function(){history.go(-1)},PageListLoad:function(){var e=this;this.$get("GetAsUserauthWhere?cond=userid&arg=".concat(this.userid)).then(function(t){200==t.Code&&(e.adminArr=t.Data.map(function(e){if(0==e.producttype)return e.productid}),e.adminArr=e.adminArr.filter(function(e){return!(!e||""===e)}),e.dailyManageMentArr=t.Data.map(function(e){if(1==e.producttype)return e.productid}),e.dailyManageMentArr=e.dailyManageMentArr.filter(function(e){return!(!e||""===e)}),e.$refs.tree.setCheckedKeys(e.adminArr),e.$refs.tree1.setCheckedKeys(e.dailyManageMentArr))})}},created:function(){this.userid=this.$route.query.userid},mounted:function(){this.managementListLoad()}}}}]);